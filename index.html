<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ВГУТ Mini App</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            color: white;
            background-color: #000;
            overflow-x: hidden;
            width: 100%;
            box-sizing: border-box;
        }
        .header {
            text-align: center;
            padding: 20px 0;
        }
        .logo {
            width: 80px;
            height: 80px;
            margin: 0 auto;
            background: url('https://vgavt.ru/upload/iblock/5e8/5e8b0b0b0b0b0b0b0b0b0b0b0b0b0b0b.png') center/contain no-repeat; /* Реальный логотип ВГУВТ; замени если нужно */
        }
        .title {
            font-size: 16px;
            margin: 10px 0 20px;
            padding: 0 10px;
            word-wrap: break-word;
        }
        .nav-buttons {
            display: flex;
            justify-content: space-around;
            padding: 0 10px;
            flex-wrap: wrap;
        }
        .button {
            background-color: #333;
            border: none;
            border-radius: 10px;
            color: white;
            padding: 10px 15px;
            font-size: 14px;
            cursor: pointer;
            flex: 1 1 45%;
            margin: 5px;
            text-align: center;
            max-width: 48%;
        }
        .schedule-wrapper {
            background: rgba(255, 255, 255, 0.05); /* Полупрозрачный фон */
            backdrop-filter: blur(10px); /* Эффект размытия (жидкое стекло) */
            border-radius: 12px; /* Закруглённые углы */
            border: 1px solid rgba(255, 255, 255, 0.1); /* Лёгкая граница */
            padding: 15px;
            margin: 10px 20px;
        }
        .date {
            font-size: 18px;
            margin-bottom: 20px;
        }
        .event {
            display: flex;
            margin-bottom: 20px;
            align-items: flex-start;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1); /* Еле заметная полоса */
        }
        .event:last-child {
            border-bottom: none; /* Нет полосы у последнего */
            padding-bottom: 0;
            margin-bottom: 0;
        }
        .time {
            font-size: 14px;
            color: #aaa;
            width: 80px;
            flex-shrink: 0;
            padding-right: 10px;
            text-align: right;
        }
        .details {
            font-size: 14px;
            word-break: break-word;
        }
        .address, .auditorium {
            color: #1E90FF; /* Синий для адресов и аудиторий */
        }
        .teacher {
            color: #A9A9A9; /* Серый для ФИО */
        }
        .footer {
            text-align: center;
            padding: 10px;
            font-size: 12px;
            color: #aaa;
        }
        #personal-content, #schedule-vuz-content {
            display: none;
        }
        .cabinet-title, .schedule-vuz-title {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 10px;
            margin: 10px 20px 20px;
            text-align: center;
            font-size: 16px;
        }
        .profile-wrapper {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 15px;
            margin: 0 20px 20px;
        }
        .profile-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 14px;
        }
        .profile-label {
            color: #aaa;
        }
        .profile-value {
            text-align: right;
        }
        .back-button {
            display: block;
            margin: 20px auto;
            background-color: #333;
            border: none;
            border-radius: 10px;
            color: white;
            padding: 10px 20px;
            font-size: 14px;
            cursor: pointer;
        }
        .search-container {
            position: relative;
            margin: 0 20px 20px;
        }
        .search-input {
            width: 100%;
            background-color: #333;
            border: none;
            border-radius: 10px;
            color: white;
            padding: 10px;
            font-size: 14px;
            box-sizing: border-box;
        }
        .suggestion-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            width: 100%;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            margin-top: 5px;
            display: none;
            z-index: 10;
        }
        .suggestion-item {
            padding: 10px;
            cursor: pointer;
        }
        .suggestion-item:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }
        #teacher-schedule {
            display: none;
        }
        @media (max-width: 375px) {
            .button, .back-button {
                font-size: 12px;
                padding: 8px 10px;
            }
            .title {
                font-size: 14px;
            }
            .time {
                width: 70px;
                font-size: 12px;
            }
            .details, .profile-item {
                font-size: 12px;
            }
            .schedule-wrapper, .profile-wrapper, .cabinet-title, .schedule-vuz-title {
                margin: 10px;
                padding: 10px;
            }
            .search-container {
                margin: 0 10px 10px;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="logo"></div>
        <div class="title">Волжский государственный университет водного транспорта</div>
    </div>
    <div id="main-content">
        <div class="nav-buttons">
            <button id="personal-cabinet-btn" class="button">Личный кабинет</button>
            <button class="button">Оценка</button>
            <button id="schedule-vuz-btn" class="button">Расписание вуза</button>
            <button class="button">Об университете</button>
        </div>
        <div class="schedule-wrapper">
            <div class="date">1 декабря</div>
            <div class="event">
                <div class="time">13:35</div>
                <div class="details">Физическая культура<br><span class="address">ул. Большая Пироговская, д. 93</span></div>
            </div>
            <div class="event">
                <div class="time">15:10</div>
                <div class="details"></div> <!-- Пустой слот -->
            </div>
            <div class="event">
                <div class="time">15:40<br>17:15</div>
                <div class="details">Инструментальные средства программирования<br><span class="teacher">Мария Александровна Турчина</span><br><span class="auditorium">а. 570</span></div>
            </div>
            <div class="event">
                <div class="time">15:40</div>
                <div class="details">Основа операционных систем<br><span class="teacher">Анатолий Владимирович Чернов</span><br><span class="auditorium">а. 562</span></div>
            </div>
        </div>
        <div class="schedule-wrapper">
            <div class="date">Вторник</div>
            <div class="event">
                <div class="time">11:50<br>13:25</div>
                <div class="details">Протоколы и интерфейсы ис (лек)<br><span class="auditorium">а. 477</span></div>
            </div>
            <div class="event">
                <div class="time">13:35<br>15:10</div>
                <div class="details">Математика (лек)<br><span class="auditorium">а. 166</span></div>
            </div>
            <div class="event">
                <div class="time">15:40<br>17:15</div>
                <div class="details">Математика (пр)<br><span class="auditorium">а. 361</span></div>
            </div>
            <div class="event">
                <div class="time">17:25<br>19:00</div>
                <div class="details">Основы экономики (пр)<br><span class="auditorium">а. 569</span></div>
            </div>
            <div class="event">
                <div class="time">19:05<br>20:40</div>
                <div class="details">ООС (лаб)<br><span class="auditorium">а. 461</span></div>
            </div>
        </div>
        <div class="footer">Вторник</div>
    </div>
    <div id="personal-content" style="display: none;">
        <div class="cabinet-title">Личный кабинет</div>
        <div class="profile-wrapper">
            <div class="profile-item">
                <span class="profile-label">ФИО:</span>
                <span class="profile-value">Иванов Иван Иванович</span>
            </div>
            <div class="profile-item">
                <span class="profile-label">Дата рождения:</span>
                <span class="profile-value">14.07.2003</span>
            </div>
            <div class="profile-item">
                <span class="profile-label">Номер студ. билета:</span>
                <span class="profile-value">345454-23</span>
            </div>
            <div class="profile-item">
                <span class="profile-label">Номер зачётки:</span>
                <span class="profile-value">3454673-23</span>
            </div>
            <div class="profile-item">
                <span class="profile-label">Направление:</span>
                <span class="profile-value">Информационные системы и технологии</span>
            </div>
            <div class="profile-item">
                <span class="profile-label">Номер направления:</span>
                <span class="profile-value">09.03.02</span>
            </div>
            <div class="profile-item">
                <span class="profile-label">Группа:</span>
                <span class="profile-value">ОИСИ-31</span>
            </div>
        </div>
        <button id="back-btn-personal" class="back-button">Назад</button>
    </div>
    <div id="schedule-vuz-content" style="display: none;">
        <div class="schedule-vuz-title">Расписание вуза</div>
        <div class="search-container">
            <input type="text" id="teacher-search" class="search-input" placeholder="Поиск преподавателя...">
            <div id="suggestion-dropdown" class="suggestion-dropdown"></div>
        </div>
        <div id="teacher-schedule" class="schedule-wrapper" style="display: none;">
            <div class="date">Понедельник</div>
            <div class="date">1 декабря</div>
            <div class="event">
                <div class="time">8:00<br>9:35</div>
                <div class="details">Основы операционных систем<br><span class="auditorium">а. 772</span></div>
            </div>
            <div class="event">
                <div class="time">15:40<br>17:15</div>
                <div class="details">Инструментальные средства программирования<br><span class="auditorium">а. 561</span></div>
            </div>
            <div class="event">
                <div class="time">19:05<br>20:40</div>
                <div class="details">Основы операционных систем<br><span class="auditorium">а. 562</span></div>
            </div>
        </div>
        <button id="back-btn-schedule" class="back-button">Назад</button>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.ready();
        tg.expand(); // Развернуть на полный экран

        // Адаптация под тему Telegram
        const theme = tg.themeParams;
        document.body.style.backgroundColor = theme.bg_color || '#000';
        document.body.style.color = theme.text_color || '#fff';

        // Функционал кнопок
        document.getElementById('personal-cabinet-btn').addEventListener('click', function() {
            document.getElementById('main-content').style.display = 'none';
            document.getElementById('personal-content').style.display = 'block';
        });

        document.getElementById('back-btn-personal').addEventListener('click', function() {
            document.getElementById('personal-content').style.display = 'none';
            document.getElementById('main-content').style.display = 'block';
        });

        document.getElementById('schedule-vuz-btn').addEventListener('click', function() {
            document.getElementById('main-content').style.display = 'none';
            document.getElementById('schedule-vuz-content').style.display = 'block';
        });

        document.getElementById('back-btn-schedule').addEventListener('click', function() {
            document.getElementById('schedule-vuz-content').style.display = 'none';
            document.getElementById('main-content').style.display = 'block';
            // Сброс поиска
            document.getElementById('teacher-search').value = '';
            document.getElementById('suggestion-dropdown').style.display = 'none';
            document.getElementById('teacher-schedule').style.display = 'none';
        });

        // Автозаполнение
        const teacherName = 'Анатолий Владимирович Шенанов';
        const searchInput = document.getElementById('teacher-search');
        const dropdown = document.getElementById('suggestion-dropdown');
        const schedule = document.getElementById('teacher-schedule');

        searchInput.addEventListener('input', function() {
            const value = this.value.toLowerCase();
            dropdown.innerHTML = '';
            dropdown.style.display = 'none';
            if (value && teacherName.toLowerCase().includes(value)) {
                const item = document.createElement('div');
                item.className = 'suggestion-item';
                item.textContent = teacherName;
                item.addEventListener('click', function() {
                    searchInput.value = teacherName;
                    dropdown.style.display = 'none';
                    schedule.style.display = 'block';
                });
                dropdown.appendChild(item);
                dropdown.style.display = 'block';
            }
        });
    </script>
</body>
</html>
